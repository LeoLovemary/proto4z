<?xml version="1.0" encoding="utf-8"?>

<ProtoTraits>
  <MinNo>30000</MinNo>
  <MaxNo>32000</MaxNo>
</ProtoTraits>

<!-- support base type,  don't use the other type like int, long, short.
--  
-- i8
-- ui8
-- i16
-- ui16
-- i32
-- ui32
-- i64
-- ui64
-- float
-- double
-- string
--  
-->



<Proto>
  <!-- <include name="stdio" desc="stdio.h or stdio.lua" /> -->
  <!-- 支持常量类型-->
  <const name="DBServer" type="ui16" value="1" desc=""/>
  <const name="GameServer" type="ui16" value="2" desc=""/>
  <const name="BattleServer" type="ui16" value="3" desc="BattleServer"/>
  <const name="CenterServer" type="ui16" value="4" desc=""/>
  <const name="AgentServer" type="ui16" value="5" desc=""/>

  <!-- 匿名枚举类型 -->
  <enum type="ui16" >
  	<member name="EC_SUCCESS" desc="success" />
  	<member name="EC_ERROR" desc="error" />
  	<member name="EC_INVALID_PARAM" value="1000" desc="invalid param" />
  	<member name="EC_UNKNOWN_ID" desc="unknwon id" />
  </enum>

  <!-- 结构体类型-->
  <struct name="AuthInfo" desc="认证信息">
    <member name="user" type="string"   desc=""/>
    <member name="pwd"  type="string"  desc=""/>
    <member name="accID"  type="ui64" desc="帐号ID"/>
  </struct>

  <!-- 支持数组类型-->
  <array name="intVct" type="ui32" desc=" -- - --"/>
  <array name="AuthInfoVct" type="AuthInfo" desc=""/>
  
  <!-- 支持字典类型-->
  <map name="MapUserAuth" key="string" value="AuthInfoVct" desc="22323"/>
  
  <!-- 协议类型-->
  <proto from="XS" to="OS" name="ServerInitNotify" desc= "服务初始化通知">
  	<member name="serverID" type="i16"   desc=""/>
    <member name="info" type="AuthInfo"   desc=""/>
  </proto>

  <proto from="XS" to="OS" name="StopServer" desc= "服务关闭通知" >
  </proto>
  
  <proto from="XS" to="OS" name="ServerPulse" desc= "服务心跳" >
  </proto>

  
</Proto>
